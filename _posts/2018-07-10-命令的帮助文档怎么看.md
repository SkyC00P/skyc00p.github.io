---
layout: post 
title: 命令的帮助文档怎么看 
categories: 其他
tags: 规范 约定
author: skycoop 
--- 

* content 
{:toc} 

在Linux上面有成千上万个命令，记住每个命令的用法是不可能的。每遇到一个命令都到网上去查也是不可取的，因为可能命令的名字虽然一样，但是由于版本的不同，实现的不同，会导致调用的方式也不尽一样。所以最稳妥的方法是查看命令自身的帮助文档。

<!--more-->
通常可以通过命令的`-h`或`--help`来打印帮助说明，或者通过man命令来查看帮助.

每个命令都会有一个`usage` 或是 `SYNOPSIS`,是一个通用格式, 看起来极端复杂，但是有编写的约定，看懂了这个，再结合每个选项的说明，就基本知道命令怎么调用了。这里以`git`为例子

`git help` 或者 `git` 或者 `git --help` 
```
usage: git [--version] [--help] [-C <path>] [-c <name>=<value>]
           [--exec-path[=<path>]] [--html-path] [--man-path] [--info-path]
           [-p | --paginate | -P | --no-pager] [--no-replace-objects] [--bare]
           [--git-dir=<path>] [--work-tree=<path>] [--namespace=<name>]
           <command> [<args>]
```

单个命令`git reset`的`SYNOPSIS`
```
git reset [-q] [<tree-ish>] [--] <paths>...
git reset (--patch | -p) [<tree-ish>] [--] [<paths>...]
git reset [--soft | --mixed [-N] | --hard | --merge | --keep] [-q] [<commit>]
```

对于命令和参数大致有如下几种类型
```
没有任何修饰符参数 : 原生参数
<>  : 占位参数
[]  : 可选组合
()  : 必选组合
|   : 互斥参数
... : 可重复指定前一个参数
--  : 标记后续参数类型
```

## 原生参数 ##
说明文档里的字符即为命令需要使用的字符，比如以上命令的`git`,这种参数在使用时必需指定，且和说明文档里的一致

## 占位参数 ##
表示方式：`<>`

和原生参数类似，都是必需指定的，只不过占位参数的实际字符是在使用时指定的，同时为了方便阅读会用一个描述词汇来表示，并以`<>`包围，比如`<command>`表示执行的命令，使用时可以指定为具体的命令文字，而**command**只是起一个说明作用，有些帮助说明里也会用大写来表示占位参数，比如将以上参数说明写成**COMMAND**

## 可选组合 ##

表示方式： `[]`

括号里的参数为可选参数，比如`[--version]` `[--help]` 里的**version** 和 **--help** 都是可选参数

可选项和占位参数也可以同时使用，如`[<args>]`表示该命令可以指定参数执行，也可以不指定

## 必选组合 ##

表示方式: `()`

括号里的参数必需指定，通常里面会是一些互斥参数，比如`git reset` 里的`(--patch | -p)`表示`--patch`和`-p`这两个参数必需指定一个

## 互斥参数 ##

表示方式: `|`

互斥参数一般都在`()`和`[]`里，表示该参数只能指定其中一个，比如`[-p | --paginate | -P | --no-pager]`

## 重复参数 ##

表示方式: `...`

表示前一个参数可以被指定多个，比如`<paths>...`

`<paths>`是一个占位参数，使用时必需指定为路径，`...`并表示可以指定多个路径。重复参数的一个典型使用场景就是移动文件，将多个文件移动到一个目录下，比如如下命令`git mv [<options>] <source>... <destination>`

比如可以这么用`git mv -f a.txt b.txt dir`,此时`options`对应为`-f`参数，`source`对应为`a.txt`, `b.txt`，`destination`对应为`dir`

## 标记后续参数类型 ##

表示方式: `--`

表示后续参数的某种类型，比如这里如果使用如下命令`git reset -p -- /home/user/dir/`

对比`git reset [-q] [<tree-ish>] [--] <paths>...`，这里的`/home/user/dir/`对应的应该是`<paths>`参数，当我们指定`--`之后，则git会认为`/home/user/dir/`就是一个路径，那怕它是特殊符号或者路径并不存在。这是shell命令的一个通用方式，比如我们有一个文件名为**-h**，如果想删除这个文件，执行`rm -h`,肯定是无法删除的，因为这时`-h`会被认为是`rm`的一个参数选项，应该使用`rm -- -h`,这时shell会将`-h`解释为一个文件名传递给`rm`命令